% ============================================================================ %
% Encoding: UTF-8 (žluťoučký kůň úpěl ďábelšké ódy)
% ============================================================================ %

% ============================================================================ %
\nn{Úvod}
Analyzujte požadavky dispečinkového systému na modul zpoždění.
Navrhněte technické řešení pro výpočet zpoždění.
Implementujte ukládání naměřených hodnot do databáze.
Realizujte vizualizaci spoje na trase.
Vytvořte webové služby pro přístup třetích stran k údajům o zpoždění.


% ============================================================================ %
\cast{Teoretická část}

\n{1}{Vývojové nástroje, protokoly a aplikace}
text

\n{2}{Spring}
Spring Framework~\cite{spring-framework} (dále jen spring) je populární open-source~\cite{open-source} pro vývoj J2EE~\cite{j2ee} aplikací. Jádro springu je využívá návrhový vzor IoC (Inversion~of~Control~\cite{ioc}) a~je označován jako IoC~kontejner. Tento návrhový vzor funguje na~principu přesunutí zodpovědnosti za~vytvoření a~provázání objektů z~aplikace na~framework.

Objekty lze získat prostřednictvím Dependency~Injection~\cite{dependency-injection} neboli vsazování závislostí (Obr.~\ref{fig:dependency-injection}). Jedná se o~speciální případ IoC. Dependency Injection lze realizovat třemi způsoby
\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item {Setter Injection,}
	\item {Constructor Injection,}
	\item {Interface Injection.}
\end{itemize}

\obr{Náhled možností dependency injection}{fig:dependency-injection}{1.0}{graphics/dependency-injection.png}

Vytvářené objekty se nazývají JavaBeans~\cite{java-beans}. Ty jsou vytvářeny typicky na~základě načtení konfiguračního souboru ve~formátu XML~\cite{xml}, který obsahuje definice těchto Beans. Spring se nezabývá řešením již vyřešených problémů. Místo toho využívá prověřených a~dobře fungujících existujících open-source nástrojů, které v~sobě integruje. Tím se stává jejich použití často jednodušším. Spring je modulární framework. Umožňuje využít jen část, která se zrovna hodí k~řešení daného problému. Účelem springu je:
\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item {zjednodušení návrhu J2EE aplikací se zaměřením na~architekturu aplikace (místo na~technologie),}
	\item {jednoduchá testovatelnost,}
	\item {neinvazivní rozvoj a modularita.}
\end{itemize}

\n{2}{Hibernate}
Hibernate~framework~\cite{hibernate-framework} je napsaný v~jazyce Java~\cite{java}, který umožňuje tzv. objektově-relační mapování (ORM~\cite{orm}). Usnadňuje řešení otázky zachování dat objektů i~po~ukončení běhu aplikace.Hibernate poskytuje způsob, pomocí něhož je možné zachovat stav objektů mezi dvěma spuštěnými aplikacemi. Říkáme tedy, že udržuje data persistentní. Dosahuje toho pomocí ORM, což znamená, že mapuje Javovské objekty na entity v~relační databázi. K~tomu používá tzv. mapovací soubory, ve~kterých je popsáno, jakým způsobem se mají data z~objektu transformovat do~databáze a~naopak, a~jakým způsobem se z~databázových tabulek mají vytvořit objekty (Obr.~\ref{fig:hibernate-diagram}).

\obr{Příklad integrace Hibernate do projektu~\cite{hibernate-tutorial}} {fig:hibernate-diagram}{0.6}{graphics/hibernate-diagram.jpg}

Druhý způsob jak mapovat objekty je použít anotace místo mapovacích souborů. V Hibernate se tedy pracuje s~běžnými business objekty, přičemž mohou být sloupce tabulky spojeny přímo s~atributy objektu, nebo mohou být připojeny skrze metody get/set a metody hashCode() a equals(). Nutno podotknout, že nelze použít EJB~\cite{enterprise-javabeans} (viz JavaBean), ale pouze klasické objekty - tzv. POJO (Plain Old Java Object)~\cite{pojo}. Poté, co jsou objekty uložené v databázi, se na ně lze dotazovat jazykem HQL (Hibernate Query Language), který je odvozen z SQL~\cite{sql} a je mu tedy velice podobný.

\n{2}{Maven}
Apache~Maven~\cite{apache-maven} je nástroj pro správu, řízení a automatizaci buildů aplikací. Ačkoliv je možné použít tento nástroj pro projekty psané v~různých programovacích jazycích, podporován je převážně jazyk Java. Základním principem fungování Mavenu je popsání projektu pomocí POM. 

\obr{Příklad integrace Maven repository~\cite{maven-repositories}}{fig:maven}{0.7}{graphics/maven-repositories.png}

Tento model popisuje softwarový projekt nejen z pohledu jeho zdrojového kódu, ale včetně závislostí na externích knihovnách, popisu procesu buildování a~různých funkcí s~tím spojených (jako je spouštění testů, sbírání informací o zdrojových kódech a podobně). Maven sám je postaven na~modulární architektuře a funguje na~principu volání jednotlivých pluginů. Maven sám pouze obstarává dodání a spuštění nadefinovaných pluginů. Maven nemá žádné vlastní grafické uživatelské rozhraní a běží pouze na příkazové řádce a pluginy tak mohou využívat všechny nástroje, které dokáží komunikovat pomocí standardních vstupů. 

\textbf{Project Object Model koncept popisu projektu jako objektu.} Za~tímto účelem je definovaná jednoduchá XML struktura, která definuje jednotlivé části projektu a jeho závislosti na~externích knihovnách a nástrojích. Současně je možné definovat konstanty, které pak mohou využít jednotlivé pluginy. Tento XML dokument se nachází v~kořenovém adresáři projektu a je pojmenován pom.xml. Pokud je projekt složen z více dílčích projektů nebo modulů, každý z~nich má pak svůj vlastní pom.xml soubor, který dědí vlastnosti od nadřazeného souboru a může přidávat další položky. Díky této struktuře je pak možné sestavit celý projekt jediným příkazem. V pom.xml je možné u~každého projektu nadefinovat jeho závislosti na~externích knihovnách. 

Jednotlivé prvky Artifacts jsou jednoznačně definovány podle atributů <groupId> a <artifactId>. Maven pak automaticky vyhledá a nainstaluje potřebné knihovny. Samotné vyhledávání probíhá v~definovaných úložištích (repository). Kromě globální maven repository, která je veřejně přístupná, je možné založit i~další soukromá nebo firemní úložiště.

\n{2}{SOAP}
SOAP~\cite{soap} je protokolem pro výměnu zpráv založených na~XML přes síť, hlavně pomocí HTTP~\cite{http}. Formát SOAP tvoří základní vrstvu komunikace mezi webovými službami a poskytuje prostředí pro~tvorbu složitější komunikace. Existuje několik různých druhů šablon pro komunikaci na protokolu SOAP. Nejznámější z nich je RPC šablona, kde jeden z~účastníků komunikace je klient a na~druhé straně je server. Server ihned odpovídá na požadavky klienta.

\n{3}{WSDL}
WSDL~\cite{wsdl} je jazykem pro~popis funkcí, jež nabízí tzv. webová služba, a dále pro~popis vstupů a výstupů těchto funkcí (jinými slovy, co webová služba poskytuje a jak si o~to říci). Jelikož webová služba v~principu komunikuje protokolem SOAP, WSDL zpravidla popisuje SOAP komunikaci. WSDL vychází z~formátu XML. Podporované operace a~zprávy jsou popsány abstraktně, a~potom se omezují na~konkrétní síťový protokol a formát zprávy. Z toho plyne, že WSDL popisuje veřejné rozhraní webové služby.

\n{3}{SoapUI}
SoapUI~\cite{soapui} je open source aplikace pro~testování webových služeb pro~architektury orientované na~služby (SOA~\cite{soa}) a~reprezentace státních přenosů (REST). Její funkce zahrnují kontrolu webových služeb od~provolání přes~testování funkčnosti až~po~testování výsledků dotazů na~shodu s~očekávaným výsledkem.

Komerční verze SoapUI~Pro, která se zaměřuje hlavně na~funkce určené ke~zvýšení produktivity, byla také vyvinuta softwarem Eviware. V~roce 2011 společnost SmartBear Software získala produkt Eviware. SoapUI byl zpočátku propuštěn do~společnosti SourceForge v~září 2005. Je to svobodný software, licencovaný na~základě podmínek veřejné licence Evropské unie. 

Je postavena výhradně na~platformě Java a~používá rozhraní Swing pro~uživatelské rozhraní. To znamená, že~SoapUI je multiplatformní. Dnes SoapUI podporují všechny hlavní vývojová prostředí (Obr.~\ref{fig:soap-ui}) (IDE~\cite{ide}), jako je např. IDEA, Eclipse nebo NetBeans a~spousta dalších. SoapUI může testovat webové služby SOAP a REST, JMS~\cite{jms}, AMF~\cite{amf}, stejně jako volání HTTP(S) a~JDBC~\cite{jdbc}.

\obr{Podporované protokoly SOAP-UI~\cite{soap-ui}}{fig:soap-ui}{0.7}{graphics/soap-ui.png}

\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item {Výhody}
	\begin{itemize}
		\setlength{\parskip}{0pt}
		\setlength{\itemsep}{0pt}
		\setstretch{1.05}
		\item {je jednoduše čitelnější pro člověka.}
	\end{itemize}	
	
	\item {Nevýhody}
	\begin{itemize}
		\setlength{\parskip}{0pt}
		\setlength{\itemsep}{0pt}
		\setstretch{1.05}
		\item {velký zápis komunikace,}
		\item {složitost,}
		\item {pomalé zpracování jednotlivými systémy (složité na parsovaní a validaci).}
	\end{itemize}
\end{itemize}

\n{2}{REST}
REST~\cite{rest} je architektura rozhraní, navržená pro~distribuovaná prostředí. REST navrhl a~popsal v~roce 2000 Roy Fielding (jeden ze spoluautorů protokolu HTTP~\cite{http}) v~rámci disertační práce Architectural Styles and the Design of Network-based Software Architectures~\cite{rest-publication}. Rozhraní REST je použitelné pro~jednotný a~snadný přístup ke~zdrojům (resources). Zdrojem mohou být data, stejně jako stavy aplikace (pokud je lze popsat konkrétními daty). REST je tedy na~rozdíl od~známějších XML-RPC či SOAP, orientován datově, nikoli procedurálně. Všechny zdroje mají vlastní identifikátor URI a~REST definuje čtyři základní metody pro přístup k nim, které jsou známé pod označením CRUD:
\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item {\textbf{C}reate - vytvoření dat,}
	\item {\textbf{R}etrieve - získání požadovaných dat,}
	\item {\textbf{U}pdate - změnu,}
	\item {\textbf{D}elete - smazání.}
\end{itemize} 
Tyto metody jsou implementovány pomocí odpovídajících metod HTTP protokolu.

\n{3}{JSON}
JSON~\cite{json} je způsob zápisu dat (datový formát) nezávislý na~počítačové platformě, určený pro~přenos dat, který může být organizován v~polích nebo agregován v~objektech. Vstupem je libovolná datová struktura (číslo, řetězec, boolean, objekt nebo z~nich složené pole), výstupem je vždy řetězec. Složitost hierarchie vstupní proměnné není teoreticky nijak omezena. 

Kolekce párů \uv{název/hodnota} bývá v rozličných jazycích realizována jako objekt, záznam (record), struktura (struct), slovník (dictionary), hash tabulka, klíčový seznam (keyed list) nebo asociativní pole.

Seřazený seznam hodnot je ve~většině jazyků realizován jako pole, vektor, seznam (list) nebo posloupnost (sequence).

Jedná se o~univerzální datové struktury a~v~podstatě všechny moderní programovací jazyky je v~nějaké formě podporují. Je tedy logické, aby na~nich byl založen i~na~jazyce nezávislý výměnný formát.
\begin{itemize}
	\item Object (Objekt) je uvozen znakem \uv{\{} (levá složená závorka) a~zakončen znakem \uv{\}} (pravá složená závorka). Každý název je následován znakem \uv{:} (dvojtečka) a~páry \uv{název/hodnota} jsou pak odděleny znakem \uv{,} (čárka).
	\item Array (Pole) je seřazenou kolekcí hodnot. Začíná znakem \uv{[} (levá hranatá závorka) a~končí znakem \uv{]} (pravá hranatá závorka). Hodnoty jsou odděleny znakem \uv{,} (čárka).
	\item Value (Hodnotou) rozumíme řetězec uzavřený do~dvojitých uvozovek, číslo, true, false, null, objekt nebo pole.
	Tyto struktury mohou být vnořovány.
	\item String (Řetězcem) je nula nebo více znaků kódování Unicode, uzavřených do~dvojitých uvozovek a~využívající únikových sekvencí (escape sequence) s~použitím zpětného lomítka. Znak je reprezentován jako řetězec s~jediným znakem. Řetězec je velmi podobný řetězcům z~jazyků C nebo Java.
	\item Number (Číslo) je podobné číslům z~jazyků C a~Java. Jedinou výjimkou je, že není používán oktalový ani hexadecimální zápis.
\end{itemize}

\n{3}{Postman}
Postman~\cite{postman} (Obr.~\ref{fig:postman}) je open source aplikace pro~testování webových služeb pro~architektury orientované na REST.

\obr{Schéma užití Postman~\cite{postman}}{fig:postman}{1.0}{graphics/postman.png}

\n{2}{JavaMail}
Knihovna pro~příjímání a~odesíláni mailu. Javamail~\cite{javamail} je rozhraní jazyka Java, které pracuje na~základě protokolů SMTP, POP3 a IMAP. JavaMail je integrován do~platformy Java EE, ale nabízí i~volitelný balíček pro~použití v~Java SE.

\n{2}{CSV}
CSV~\cite{csv} je jednoduchy souborový formát pro~výměnu tabulkových dat.
Soubor ve~formátu CSV sestává z řádků, ve~kterých jsou jednotlivé položky odděleny znakem čárka \uv{,}.Hodnoty položek mohou být uzavřeny do~uvozovek \uv{"}, což umožňuje, aby text položky obsahoval čárku. Pokud text položky obsahuje uvozovky, jsou pak zdvojeny.

\n{2}{PostGIS}
PostGIS~\cite{postgis} je open source software. Jedná se~o~nadstavbu pro~objektově-relační databázový systém PostgreSQL, která přidává podporu pro~geografické objekty (tzv. geoprvky). PostGIS implementuje specifikaci \uv{Simple Features for SQL} konsorcia Open Geospatial Consortium.


% ============================================================================ %

% Pokud Vaše práce neobsahuje analytickou část, stačí odstranit či zakomentovat nasledujících pár rádků
\cast{Analytická část}

\n{1}{Analýza dispečinkového systému}
Analýza je vědecká metoda založená na dekompozici celku na elementární části, je to metoda
zkoumání složitějších skutečností rozkladem (dissolution) na jednodušší. Cílem analýzy je tedy identifikovat podstatné a nutné vlastnosti elementárních částí celku, poznat jejich podstatu a zákonitosti. Analýza je také způsob výkladu, jestliže oddělujeme jednotlivé jevy a zkoumáme je izolovaně. Opačný postup k analýze se nazývá syntéza. Cílem analýzy u informačních systémů není pouze zdokumentování stávajícího stavu, ale zejména pochopení logiky fungování systému a tím pádem získání výchozích předpokladů pro možnou optimalizaci.
Cílem analýzy tedy je:
\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item Získat znalosti o systému
	\item Zjistit nedostatky a slabá místa
	\item Uvědomit si potřebné změny
\end{itemize}
Analýza by měla postupovat od globálního pohledu k potřebným detailům.

\obr{Pohled L1 na současnou HW architekturu}{fig:HWpohled}{1.0}{graphics/HWpohled.png}

\n{2}{Popis stavu před změnami}
Stavajici system je založený na komunikaci pomocí zasílání SMS mezi obsluhou vozu (řidič nebo steward) a dispečerem (systém). SMS mají pevnou základní strukturu a zpracovávají se pomocí služby SMS parser, které si v zaslané SMS vybere pevnou strukturu odpovídající spoždění (asi Delay:10). Dále je možné spoždění přímo zadat do systému. Všechny tyto možnosti ukládání dat o spoždění jsou auditovány a je možnost zobrazovat jejich historii.  

\n{2}{Popis stavu po změnach}
I nadále je využíván původní system založený na odesílání SMS s zadaným textem a hodnotou spoždění. Nově jsou pak přidány zdroje dat o poloze a spoždění spojů.

\n{1}{Navrhněte technické řešení pro výpočet zpoždění}
\begin{itemize}
	\item Vytvorime si zakladni trasu spoje pomoci GPS souradnic
	\item Tuto trasu rozdelime na trasy mezi zastavkami (aby nebyl prilis velky pocet souradnic)
	\item Pomoci Trasovani spoje (napojeni na polohavozu.cz) ziskame souradnice GPS a cas kdy byli tyto data porizeny
	\item Vytvorime modelovou trasu spoje s casem
	\item Porovanáním modelove trasy spoje a aktualni pozice vozu, muzem vypocist zpozdeni
	\item Vyuzijem PostGIS k vraceni nejblizsi souradnice, u teto souradnice zname i cas prujezdu
	\item Zpozdeni ulozime do databaze
\end{itemize}

\n{2}{Podnadpis}
text

% ============================================================================ %
\cast{Projektová část}

\n{1}{Připojení nových zdrojů dat}
Pro zlepšení přesnosti stávající situace informací o~zpoždění bylo rozhodnuto o~napojení se na~nové zdroje informací, které nám pomohou zpřesnit a~hlavně automatizovat načítání, zpracovaní a~zobrazení informací o~zpoždění spojů.

\n{2}{Připojení SŽDC API}
Prvním z nich je datové rozhraní GRAPP~(Obr.~\ref{fig:grapp}), ze které se bude načítat zpoždění a poslední potvrzené průjezdové místo vozu kontrolním bodem. Druhým je pak datové rozhraní Informační tabule, zde se budou načítat aktuální názvy nástupišť v dané zastávce pro daný spoj. Tato datová rozhraní spravuje společnost OLTIS group a.s..

\obr{GRAPP~\cite{grapp}}{fig:grapp}{1.0}{graphics/grapp.png}

\n{3}{Datové rozhraní GRAPP}

\n{4}{Informační systém GRAPP}
, který vlastní společnost SŽDC, státní organizace (dále jen SŽDC), poskytuje datové rozhraní formou webové služby pro další systémy (poskytování dat z informačního systému GRAPP třetím stranám). Aplikace třetích stran se mohou dotazovat do informačního systému GRAPP na aktuální data týkající se polohy vlaků veřejné osobní dopravy, respektive jejich poslední potvrzené polohy, na dopravní síti SŽDC včetně doplňujících údajů.

\n{4}{Úprava pom.xml}
je první v pořadí (Kod.~\ref{uprava-pom-szdc-position.xml}). Pom.xml je soubor do kterého doplníme novou část kodu struktury XML v sekci <plugin>. Pomocí tohoto přidaného kódu pak při opětovném sestavení projektu pomocí mavenu dojde k autogenerování tříd datového rozhraní GRAPP, které pak využijem pro načítání dat.
\script{uprava-pom-szdc-position.xml}{xml}
Následuje tvorba interface provideru (Kod.~\ref{SzdcProvider.java}) a komunikačních přepravek (Obr.~\ref{fig:szdc-position-models}).

\obr{szdc-position-models}{fig:szdc-position-models}{0.9}{graphics/szdc-position-models.jpg}
\script{SzdcProvider.java}{Java}
\begin{itemize}
 	\setlength{\parskip}{0pt}
 	\setlength{\itemsep}{0pt}
 	\setstretch{1.05}


 
	\item Dalším krokem je tvorba service (Kod.~\ref{SzdcPositionWSApiService.java}), přes které se budem dotazovat na datové rozhraní GRAPP.
 
	\script{SzdcPositionWSApiService.java}{Java}
 
	\item Implemntace provideru a jeho metod (Kod.~\ref{SzdcProviderImpl.java}), které budem využívat.
 
	\script{SzdcProviderImpl.java}{Java}
 
	\item Nyní máme vše potřebné k vytvoření rozhraní (Kod.~\ref{SzdcService.java}) a implementaci service (Kod.~\ref{SzdcServiceImpl.java}) pro načítání a aktualizaci nového zdroje dat spoždění. Pro identifikaci spojení, na které je nutné se dotázat datového rozhraní a doplnit do requestu, je nutné vytvořit databázový dotaz. Ten vytoříme pomocí hibernate (Kod.~\ref{SzdcDao.java}).
	
	\script{SzdcDao.java}{Java}
	\script{SzdcService.java}{Java}
	\script{SzdcServiceImpl.java}{Java}
	
	\item Posledním krokem k dokončení je automatické spouštění. Pomocí CRONu vytvoříme periodické spuštění dotazu na datové rozhraní a následné uložení do databáze.
	
	\script{applicationContex-cron-position.xml}{xml}
\end{itemize} 

\n{3}{Datové rozhraní Informační tabule}
Další možností načítaní zdroje dat spoždění je datové rozhraní informační TABULE. Při implementaci jsem nakonec toto datové rozhraní pro načítaní spoždění nepoužily. Toto rozhraní je primárně využito k načítaní informaci o zastávkách a nástupištích kudy spoj projíždí.

\n{4}{Informační systém TABULE}
, který vlastní společnost SŽDC, poskytuje datové rozhraní formou webové služby pro další systémy. Cílem je poskytování dat z informačního systému TABULE pro třetí strany. Aplikace třetích stran se mohou dotazovat do informačního systému TABULE na aktuální data týkající se odjezdových a příjezdových tabulí dopravních bodů na dopravní síti SŽDC, které mohou tato data poskytovat.

\n{2}{Připojení Polohavozu.cz}
V první fázi byla napojena datova rozhraní od SŽDC, bohužel neobsahovala všechna potřebná data. Chybjejícím prvkem byla poloha, souřadnice GPS potřebná k určení kde se vůz nachází a pomoci ni vypočíst spoždění.
\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item Tvorba Provideru (inteface, implementace)
	
	\script{VehiclePositionProvider.java}{Java}
	\script{VehiclePositionProviderImpl.java}{Java}
	\script{PositionDO.java}{Java}
	\script{TrackedVehiclePathDO.java}{Java}
	\script{VehicleInfoDO.java}{Java}
	
	\item tvorba cron jobu pro pravidelý update
	Nedokonceno
\end{itemize}

\n{2}{Načítaní struktury vlaku do dispečinkového systému}
Abychom byli schopni správně se dotazovat na polohu vozů, je třeba nejprve získat strukturu složení vlaku. Jedna se aktulální zapojení vagonů. Načítat budem identifikator vagonu (jedinečná stringova hodnota). Takto identifikovane vozy pak přiřadíme jednotlivým spojům a uložíme do datbaze. Podle nich potom můžem přesně získavat data o poloze.
\begin{itemize}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	\setstretch{1.05}
	\item Tvorba Provideru (inteface, implementace)
	
	\script{TrafficControlProvider.java}{Java}
	
	\item Parsovani CSV souboru a ulozeni dat (konverze dat) do datových prepravek
	
	\script{TrafficControlProviderImpl.java}{Java}
	
	\item Vytvoreni datových přepravek
	
	\script{TrainCompositionDO.java}{Java}
	\script{WagonDO.java}{Java}
	
	\item Vytvoreni mailu pro odebírání excel souboru se strukturou vlaku rozepsanou na den
	\item Pripojeni se na tuto mailovou adresu pomocí javamail knihovny
	
	\script{TrafficControlMailDownloader.java}{Java}
	
	\item Nacteni prijatých mailu a odfiltrovani prebytecnych mailu, ktere jsou bud stare nebo neobsahuji prilohu
	\item Otevreni prilohy a nacteni exceloveho souboru
	\item Otevreni pracovniho sesitu a nacteni dat z exceloých bunek do CSV souboru
	
	\script{ExcelToCsvConverter.java}{Java}
	
	
	\item Dao funkce (hibenate dotaz do DB), vyuziti stavajici funkci
	\item Tvorba service (inteface, implementace) -> Tady je nejvetsi zajimavost a to vyuziti funkcionalního inteface z Java8
	
	\script{TrafficControlService.java}{Java}
	\script{TrafficControlServiceImpl.java}{Java}
	
	\item Pomocí stavajicích funkci ulozíme data do DB
	\item tvorba cron jobu pro pravidelý update
	
	\script{applicationContext-cron-Struktura.xml}{xml}
	
\end{itemize}

\n{1}{Distribuce zpoždění}
Plazmy, GTFS-real time, SMS, mail

\n{2}{Zobrazení na zpozdeni spoje}
\begin{itemize}
	\item Vyuzit stavajici funkci pro zobrazovani na Plazmach
	\item Zasilani SMS a mailu o zpozdeni pro jednotlive prodejce a dispecery podle skupin
\end{itemize}

\n{3}{Podnandpis}
text

\n{2}{Zobrazení údajů o zpoždění}
\begin{itemize}
	\item Tvorba noveho endpontu pro real-time GTFS
	\item GTFS-RT musi obsahovat stejne identifikatory jako staticke GTFS
	\item Google Protokolbuffer
	\item Pripojeni nacitani zpozdeni a poloha GPS
\end{itemize}

\n{3}{Podnandpis}
text
% ============================================================================ %
\nn{Závěr}
Text závěru


% ============================================================================ %
